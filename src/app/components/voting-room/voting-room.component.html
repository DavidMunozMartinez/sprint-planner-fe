<div class="voting-room">
  <div class="container h-center">
    <div>
      <h1>Voting Room</h1>
      <h3>
        Id: {{ roomId }}
      </h3>
    </div>
  </div>
  
  <div class="container">
    @for (voter of voters(); track $index) {
      <div
        class="container v-center voter-card"
        [class.voted]="voter.hasVoted"
        [class.host]="voter.isHost"
        [class.show-vote]="revealed">
        <div class="name">
          {{voter.name}}{{ me?.id === voter.id ? '(You)' : '' }}
        </div>
        <div class="vote-value">
          @if (revealed()) {
            @if (voter.vote > 0) {
              {{ voter.vote }}
            } @else {
              <img src="assets/no-vote.gif" height="35px" width="35px">
            }
          }
        </div>
      </div>
    }
  </div>
  
  @if(me) {
    <div class="container v-center">
      <div>
        <h2>Vote</h2>
      </div>
      <div>
        @for (val of options; track $index) {
          <span>
            <button (click)="updateMyVote(val)" class="sp-btn" [class.secondary]="me.vote !== val">
              {{ val }}
            </button>
          </span>
        }
      </div>
    </div>
  
    @if(me.isHost) {
      <div class="container">
        <button (click)="resetVotes()" class="sp-btn">New vote</button>
        <button (click)="revealVotes()" class="sp-btn">Reveal Votes</button>
      </div>
    }
  }
  <statistics-component [data]="revealed() ? statisticsData() : []"/>
</div>


